
{% if include.status %}
  {% assign players = site.players | where: 'year', include.current_year | where: 'status', include.status | sort: "number" %}
{% else %}
  {% assign players = site.players | where: 'year', include.current_year | sort: "number" %}
{% endif %}
{% assign players_count = players | size %}

{% if players_count != 0 %}
  <h2 class="text-2xl sm:text-5xl rounded-3xl text-white text-center py-6 my-8 bg-gradient-to-r from-[#E8000D] to-[#ff1a2e] shadow-2xl font-bold relative overflow-hidden" id="heading-{{ include.status | default:'roster' }}">
    <span class="relative z-10">{{ include.title }}</span>
    <div class="absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-orange-500/20 animate-pulse"></div>
  </h2>

  <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8" aria-labelledby="heading-{{ include.status | default:'roster' }}">
    {%- for player in players -%}
      <div class="group cursor-pointer">
        <div class="bg-gradient-to-b from-white/10 to-white/5 backdrop-blur-sm rounded-3xl p-6 border border-white/20 shadow-2xl hover:shadow-3xl transition-all duration-300 hover:scale-105 hover:border-yellow-400/50">
          <div class="relative mb-4">
            {% if player.image %}
              <img class="object-cover rounded-2xl w-full h-48 sm:h-56 lg:h-64 shadow-lg"
                   loading="lazy"
                   src="{{ player.image }}"
                   alt="Photo of {{ player.first_name }} {{ player.last_name }}"
                   width="256"
                   height="256">
            {% else %}
              <div class="flex items-center justify-center rounded-2xl w-full h-48 sm:h-56 lg:h-64 bg-gradient-to-br from-gray-400/50 to-gray-500/50 backdrop-blur-sm border border-white/20">
                <div class="text-center">
                  <div class="text-white/80 text-2xl mb-2">🏀</div>
                  <span class="text-white/70 text-sm font-medium">Photo Coming Soon</span>
                </div>
              </div>
            {% endif %}
            {% if player.number and player.number != 99 %}
              <div class="absolute -top-2 -right-2 bg-gradient-to-r from-[#E8000D] to-[#ff1a2e] text-white font-bold text-lg px-3 py-1 rounded-full shadow-lg border-2 border-yellow-400">
                #{{ player.number }}
              </div>
            {% endif %}
          </div>
          <div class="text-center space-y-2">
            <h3 class="text-xl sm:text-2xl font-bold text-white drop-shadow-lg">
              {{ player.first_name }} {{ player.last_name }}
            </h3>
            <div class="flex justify-center gap-2 text-sm">
              <span class="px-3 py-1 bg-white/20 text-white rounded-full font-medium">{{ player.class }}</span>
              <span class="px-3 py-1 bg-white/20 text-white rounded-full font-medium">{{ player.position }}</span>
            </div>
            <div class="text-white/90 text-sm font-medium">{{ player.hometown }}</div>
            {% if player.height %}
              <div class="text-white/80 text-sm">{{ player.height }} • {{ player.weight }}lbs</div>
            {% endif %}
          </div>
        </div>
      </div>
    {%- endfor -%}
  </section>
{% endif %}
